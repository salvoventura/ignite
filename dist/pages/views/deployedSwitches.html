<div id="main" class="content container">
    <div class="table-header-cont">
        <div class="pull-left">
            <h5 class="page-header">Switches ({{tableParams.total()}})</h5>
        </div>
        <div class="pull-right">
            <div class="search-cont">
                <input type="search" class="form-control" title="Search" ng-model="search" data-toggle="tooltip" placeholder="Search">
                <i class="glyphicon glyphicon-search"></i>
            </div>
        </div>
    </div>

    <div class="table-responsive">
         <table class="table table-hover" ng-table="tableParams">
            <thead>
                <tr>
                    <th width="2%">#</th>
                    <th class="sortable" 
                    ng-class="{
                        'sort-asc': tableParams.isSortBy('switch_name', 'asc'),
                        'sort-desc': tableParams.isSortBy('switch_name', 'desc')
                    }"
                    ng-click="tableParams.sorting({'switch_name' : tableParams.isSortBy('switch_name', 'asc') ? 'desc' : 'asc'})"
                    >
                    Switch Name</th>
                    <th class="sortable" 
                    ng-class="{
                        'sort-asc': tableParams.isSortBy('booted', 'asc'),
                        'sort-desc': tableParams.isSortBy('booted', 'desc')
                    }"
                    ng-click="tableParams.sorting({'booted' : tableParams.isSortBy('booted', 'asc') ? 'desc' : 'asc'})"
                    >
                    Booted</th>

                    <th class="sortable" 
                    ng-class="{
                        'sort-asc': tableParams.isSortBy('boot_time', 'asc'),
                        'sort-desc': tableParams.isSortBy('boot_time', 'desc')
                    }"
                    ng-click="tableParams.sorting({'boot_time' : tableParams.isSortBy('boot_time', 'asc') ? 'desc' : 'asc'})"
                    >
                    Boot Time</th>

                    <th class="sortable" 
                    ng-class="{
                        'sort-asc': tableParams.isSortBy('system_id', 'asc'),
                        'sort-desc': tableParams.isSortBy('system_id', 'desc')
                    }"
                    ng-click="tableParams.sorting({'system_id' : tableParams.isSortBy('system_id', 'asc') ? 'desc' : 'asc'})"
                    >
                    Serial ID</th>
                    
                     <th class="sortable" 
                    ng-class="{
                        'sort-asc': tableParams.isSortBy('match_type', 'asc'),
                        'sort-desc': tableParams.isSortBy('match_type', 'desc')
                    }"
                    ng-click="tableParams.sorting({'match_type' : tableParams.isSortBy('match_type', 'asc') ? 'desc' : 'asc'})"
                    >
                    Match Type</th>

                    <th class="sortable" 
                    ng-class="{
                        'sort-asc': tableParams.isSortBy('discoveryrule_id', 'asc'),
                        'sort-desc': tableParams.isSortBy('discoveryrule_id', 'desc')
                    }"
                    ng-click="tableParams.sorting({'discoveryrule_id' : tableParams.isSortBy('discoveryrule_id', 'asc') ? 'desc' : 'asc'})"
                    >
                    Discovery Rule</th>

                    <th class="sortable" 
                    ng-class="{
                        'sort-asc': tableParams.isSortBy('config_name', 'asc'),
                        'sort-desc': tableParams.isSortBy('config_name', 'desc')
                    }"
                    ng-click="tableParams.sorting({'config_name' : tableParams.isSortBy('config_name', 'asc') ? 'desc' : 'asc'})"
                    >
                    Config Name</th>
                    <th>Logs</th>
                    
                </tr>
            </thead>
            <tbody>
                <tr ng-class="{active: classVal}" ng-repeat="switch in $data | filter : search">
                    <td>{{appServices.generateSeq(tableParams.page(), tableParams.count(), $index)}}</td>
                    <td>{{switch.switch_name}}</td>
                    <td><any ng-if="switch.booted == true">Yes</span> <any ng-if="switch.booted != true">No</span></td>
                    <td>{{switch.boot_time | date : appSettings.dateFormat}}</td>
                    <td>{{switch.system_id}}</td>
                    <td>{{switch.match_type}}</td>
                    <td>
                            <a href="javascript:void(0)" ng-click="openRuleModal(switch.discoveryrule_id)" ng-if="switch.discoveryrule_id != -1">{{switch.discoveryrule_name}}</a>
                            <span ng-if="switch.discoveryrule_id == -1"> - </span>

                            <!--a href="javascript:void(0)" ng-click="openRuleModal('16')">TestRule</a -->
                    </td>
                    <td><a href="javascript:void(0)" ng-click="openConfigModal(switch.id)">{{switch.config_name}}</a></td>
                    <td><a href="javascript:void(0)" ng-click="openLogModal(switch.id)">View</a></td>
                </tr>
            </tbody>
        </table>
        
    </div>
</div>

